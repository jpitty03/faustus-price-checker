{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst axios_1 = __importDefault(require(\"axios\"));\nconst WatchUrlGenerator_1 = __importDefault(require(\"../func/WatchUrlGenerator\"));\n/**\n * Fetches data from the POE Watch API based on the provided query URL.\n * @param league - The game league for which to fetch currency data.\n * @param type - The type of data to fetch.\n * @returns - A Promise that resolves to the fetched data.\n * @throws - Throws an error if there is an issue with the API response or fetching data.\n */\nasync function fetchData(league, type) {\n  try {\n    const url = (0, WatchUrlGenerator_1.default)(league, type);\n    const response = await axios_1.default.get(url, {\n      headers: {\n        \"Accept-Encoding\": \"identity\"\n      }\n    });\n    if (response.data) {\n      return response.data;\n    } else {\n      throw new Error(\"Invalid response format from POE Watch API\");\n    }\n  } catch (error) {\n    throw new Error(axios_1.default.isAxiosError(error) && error.response ? \"Error fetching data from poe.watch: \".concat(error.response.data.error, \", Code: \").concat(error.response.data.code) : \"Error fetching data from poe.watch: \".concat(error));\n  }\n}\nexports.default = fetchData;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","axios_1","require","WatchUrlGenerator_1","fetchData","league","type","url","default","response","get","headers","data","Error","error","isAxiosError","concat","code"],"sources":["C:/Users/jpitt/VSCode/faustus-price-checker/web-ui/node_modules/poe-api-manager/dist/lib/modules/poe.watch/fetch/watchFetch.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst axios_1 = __importDefault(require(\"axios\"));\nconst WatchUrlGenerator_1 = __importDefault(require(\"../func/WatchUrlGenerator\"));\n/**\n * Fetches data from the POE Watch API based on the provided query URL.\n * @param league - The game league for which to fetch currency data.\n * @param type - The type of data to fetch.\n * @returns - A Promise that resolves to the fetched data.\n * @throws - Throws an error if there is an issue with the API response or fetching data.\n */\nasync function fetchData(league, type) {\n    try {\n        const url = (0, WatchUrlGenerator_1.default)(league, type);\n        const response = await axios_1.default.get(url, {\n            headers: {\n                \"Accept-Encoding\": \"identity\",\n            },\n        });\n        if (response.data) {\n            return response.data;\n        }\n        else {\n            throw new Error(\"Invalid response format from POE Watch API\");\n        }\n    }\n    catch (error) {\n        throw new Error(axios_1.default.isAxiosError(error) && error.response\n            ? `Error fetching data from poe.watch: ${error.response.data.error}, Code: ${error.response.data.code}`\n            : `Error fetching data from poe.watch: ${error}`);\n    }\n}\nexports.default = fetchData;\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAUC,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAID,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACDE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7D,MAAMC,OAAO,GAAGP,eAAe,CAACQ,OAAO,CAAC,OAAO,CAAC,CAAC;AACjD,MAAMC,mBAAmB,GAAGT,eAAe,CAACQ,OAAO,CAAC,2BAA2B,CAAC,CAAC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeE,SAASA,CAACC,MAAM,EAAEC,IAAI,EAAE;EACnC,IAAI;IACA,MAAMC,GAAG,GAAG,CAAC,CAAC,EAAEJ,mBAAmB,CAACK,OAAO,EAAEH,MAAM,EAAEC,IAAI,CAAC;IAC1D,MAAMG,QAAQ,GAAG,MAAMR,OAAO,CAACO,OAAO,CAACE,GAAG,CAACH,GAAG,EAAE;MAC5CI,OAAO,EAAE;QACL,iBAAiB,EAAE;MACvB;IACJ,CAAC,CAAC;IACF,IAAIF,QAAQ,CAACG,IAAI,EAAE;MACf,OAAOH,QAAQ,CAACG,IAAI;IACxB,CAAC,MACI;MACD,MAAM,IAAIC,KAAK,CAAC,4CAA4C,CAAC;IACjE;EACJ,CAAC,CACD,OAAOC,KAAK,EAAE;IACV,MAAM,IAAID,KAAK,CAACZ,OAAO,CAACO,OAAO,CAACO,YAAY,CAACD,KAAK,CAAC,IAAIA,KAAK,CAACL,QAAQ,0CAAAO,MAAA,CACxBF,KAAK,CAACL,QAAQ,CAACG,IAAI,CAACE,KAAK,cAAAE,MAAA,CAAWF,KAAK,CAACL,QAAQ,CAACG,IAAI,CAACK,IAAI,2CAAAD,MAAA,CAC5DF,KAAK,CAAE,CAAC;EACzD;AACJ;AACAf,OAAO,CAACS,OAAO,GAAGJ,SAAS","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}